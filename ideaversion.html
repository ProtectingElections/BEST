<meta charset="UTF-8" /><script src=https://cdnjs.cloudflare.com/ajax/libs/mathjs/3.3.0/math.min.js></script>
<style type="text/css">@import url("https://www.idea.int/sites/all/themes/idea/css/custom.css?ru0t0c");

table,
th,
td {
  border: 1px solid #96d4d4;
  border-collapse: collapse;
  padding: 5px;
}

.weights td:nth-child(2) {
  border-right: none;
}
.weights td:nth-child(3) {
  border-left: none;
  width: 3ch;
}

button {
  box-sizing: border-box;
  text-decoration: none;
  outline: 0;
  display: inline-block;
  margin-bottom: 0;
  text-align: center;
  vertical-align: middle;
  touch-action: manipulation;
  cursor: pointer;
  line-height: 1.42857143;
  color: #fff;
  padding: 14px 25px;
  background-color: #f38336;
  text-transform: uppercase;
  font-weight: bold;
  border-radius: 0px;
  border: none;
  white-space: normal;
  word-wrap: break-word;
  margin-top: 5px;
}

/* Rotate results table to match original excel spreadsheet */
.results tr {
  display: block;
  float: left;
}
.results td {
  display: block;
  min-width: 5ch;
}
.results th {
  display: block;
}
</style>
<h1>Best Electoral Systems Test</h1>
<!--break-->

<table class="weights">
	<tbody>
		<tr>
			<th>How important is it that the electoral system...</th>
			<th colspan="2">Importance*</th>
			<th>Explanation</th>
		</tr>
		<tr>
			<td><label for="slider_ballot">Has low ballot paper printing costs </label></td>
			<td><input class="slider" id="slider_ballot" max="10" min="0" type="range" value="0" /></td>
			<td><span id="display_ballot">0</span></td>
			<td>
			<div>Printing costs depend on the number, size, colour and quality of ballot papers needed to carry out the elections. In cases where money is scarce, it is important to keep printing costs in mind when designing the electoral system.</div>
			</td>
		</tr>
		<tr>
			<td><label for="slider_describe">Leads to descriptive representation </label></td>
			<td><input class="slider" id="slider_describe" max="10" min="0" type="range" value="0" /></td>
			<td><span id="display_describe">0</span></td>
			<td>
			<div>Descriptive representation refers to the idea that candidates in democratic elections should be elected to represent ethnic, religios, gender, and other majority/minority groups, rather than the population at large. According to this idea, an elected body should resemble a representative sample of the voters they are meant to represent concerning outward characteristics.</div>
			</td>
		</tr>
		<tr>
			<td><label for="slider_geo">Leads to geographic representation </label></td>
			<td><input class="slider" id="slider_geo" max="10" min="0" type="range" value="0" /></td>
			<td><span id="display_geo">0</span></td>
			<td>
			<div>Geographic representation refers to representation of all parts of the country: north/south, east/west, urban/rural etc. In countries where the population identifies by region, it may be important to choose an electoral system which allows people to choose representatives from their own geographic area. On the other hand, it may be important to choose an electoral system that helps move away from regional fiefdoms by allowing/encouraging representation not based on geography.</div>
			</td>
		</tr>
		<tr>
			<td><label for="slider_ind">Facilitates individual accountability </label></td>
			<td><input class="slider" id="slider_ind" max="10" min="0" type="range" value="0" /></td>
			<td><span id="display_ind">0</span></td>
			<td>
			<div>Individual accountability refers to the possibility for voters to identify, nominate, vote for and remove individual representatives from the legislature, as opposed to entire parties or governments only.</div>
			</td>
		</tr>
		<tr>
			<td><label for="slider_gov">Leads to an accountable government </label></td>
			<td><input class="slider" id="slider_gov" max="10" min="0" type="range" value="0" /></td>
			<td><span id="display_gov">0</span></td>
			<td>
			<div>Government accountability refers to the possibility for voters to change governments if they are unhappy with their preformance.</div>
			</td>
		</tr>
		<tr>
			<td><label for="slider_boundary">Produces little or no need for boundary delimitation </label></td>
			<td><input class="slider" id="slider_boundary" max="10" min="0" type="range" value="0" /></td>
			<td><span id="display_boundary">0</span></td>
			<td>
			<div>Electoral systems with single member districts always require boundary delimitation to be carried out. Electoral systems with multi member districts sometimes use boundary delimitation and sometimes reapportionment (increasing or decreasing the number of seats in a district based on census figures or other requirements). Boundary delimitation is often costly and sometimes the basis of conflict relating to claims of gerrymandering - trying to draw boundaries to favour one group over another.</div>
			</td>
		</tr>
		<tr>
			<td><label for="slider_strategic">Limits the possibility of strategic voting </label></td>
			<td><input class="slider" id="slider_strategic" max="10" min="0" type="range" value="0" /></td>
			<td><span id="display_strategic">0</span></td>
			<td>
			<div>Strategic voting refers to the act of casting a vote for someone other than the the voters first preference in order to prevent an undesirable outcome.</div>
			</td>
		</tr>
		<tr>
			<td><label for="slider_waste">Leads to few wasted votes </label></td>
			<td><input class="slider" id="slider_waste" max="10" min="0" type="range" value="0" /></td>
			<td><span id="display_waste">0</span></td>
			<td>
			<div>Wasted votes are votes that are not counted towards the election of a candidate.</div>
			</td>
		</tr>
		<tr>
			<td><label for="slider_women">Results in a high number of women in the legislature </label></td>
			<td><input class="slider" id="slider_women" max="10" min="0" type="range" value="0" /></td>
			<td><span id="display_women">0</span></td>
			<td>
			<div>Women's representation is facilitated in party centred systems with large districts and high party magnitude.</div>
			</td>
		</tr>
		<tr>
			<td><label for="slider_explain">Calculates results in a way that is easy to explain and understand </label></td>
			<td><input class="slider" id="slider_explain" max="10" min="0" type="range" value="0" /></td>
			<td><span id="display_explain">0</span></td>
			<td>
			<div>To ensure transparency and increase trust in the system, it is important that voters understand how votes are translated into seats, that it is done in an intuitive and credible way.</div>
			</td>
		</tr>
		<tr>
			<td><label for="slider_easy">Makes it easy to vote </label></td>
			<td><input class="slider" id="slider_easy" max="10" min="0" type="range" value="0" /></td>
			<td><span id="display_easy">0</span></td>
			<td>
			<div>Some electoral systems require voters to make multiple choices, rank order or read while others only require a mark to be made next to a picture or a logo. Especially in countries where illiteracy is a problem, it may be important to consider the ease in which voting itself is carried out, to ensure an inclusive process.</div>
			</td>
		</tr>
		<tr>
			<td><label for="slider_turnout">Leads to high voter turnout </label></td>
			<td><input class="slider" id="slider_turnout" max="10" min="0" type="range" value="0" /></td>
			<td><span id="display_turnout">0</span></td>
			<td>
			<div>Voter turnout is affected by the electoral system as voters tend to turn out when their vote is likely to make a difference. Either in tight races in single member districts or when the system counts all votes in the country or in a large part of the country towards the election of the next candidate.</div>
			</td>
		</tr>
		<tr>
			<td><label for="slider_link">Creates strong linkages between voters and representatives </label></td>
			<td><input class="slider" id="slider_link" max="10" min="0" type="range" value="0" /></td>
			<td><span id="display_link">0</span></td>
			<td>
			<div>Linkages between voters and representatives may be strengthened when the voter knows and has access to his/her representative.</div>
			</td>
		</tr>
		<tr>
			<td><label for="slider_pork">Creates little or no incentive for pork barrel politics </label></td>
			<td><input class="slider" id="slider_pork" max="10" min="0" type="range" value="0" /></td>
			<td><span id="display_pork">0</span></td>
			<td>
			<div>Pork barrel politics refers to the practice of representatives spending public funds in a particular constituency with the aim of increasing chances for reelection.</div>
			</td>
		</tr>
		<tr>
			<td><label for="slider_oppose">Creates an effective opposition </label></td>
			<td><input class="slider" id="slider_oppose" max="10" min="0" type="range" value="0" /></td>
			<td><span id="display_oppose">0</span></td>
			<td>
			<div>An effective opposition is one which has sufficient representation to provide a counterweight to a governing party or coalition, has reasonable future election prospects, and is not internally divided.</div>
			</td>
		</tr>
		<tr>
			<td><label for="slider_extreme">Excludes extremist parties from representation in the legislature </label></td>
			<td><input class="slider" id="slider_extreme" max="10" min="0" type="range" value="0" /></td>
			<td><span id="display_extreme">0</span></td>
			<td>
			<div>Small extremist parties at the end of the political spectrum will have a greater chance of being represented in proportional systems, unless the partyâ€™s electoral support is geographically very concentrated.</div>
			</td>
		</tr>
	</tbody>
</table>

<p><button id="calculate" type="button">Calculate</button></p>

<p id="demo">&nbsp;</p>

<div id="results">
<table class="results">
	<tbody>
		<tr>
			<th>System</th>
			<th>Score</th>
			<th>Score relative to "ideal system"**</th>
		</tr>
		<tr>
			<td>List PR - closed lists:</td>
			<td><span id="prclosed_raw">&nbsp;</span></td>
			<td><span id="prclosed_relative">&nbsp;</span></td>
		</tr>
		<tr>
			<td>List PR - open lists:</td>
			<td><span id="propen_raw">&nbsp;</span></td>
			<td><span id="propen_relative">&nbsp;</span></td>
		</tr>
		<tr>
			<td>FPTP:</td>
			<td><span id="fptp_raw">&nbsp;</span></td>
			<td><span id="fptp_relative">&nbsp;</span></td>
		</tr>
		<tr>
			<td>TRS:</td>
			<td><span id="trs_raw">&nbsp;</span></td>
			<td><span id="trs_relative">&nbsp;</span></td>
		</tr>
		<tr>
			<td>AV:</td>
			<td><span id="av_raw">&nbsp;</span></td>
			<td><span id="av_relative">&nbsp;</span></td>
		</tr>
		<tr>
			<td>STV:</td>
			<td><span id="stv_raw">&nbsp;</span></td>
			<td><span id="stv_relative">&nbsp;</span></td>
		</tr>
		<tr>
			<td>SNTV:</td>
			<td><span id="sntv_raw">&nbsp;</span></td>
			<td><span id="sntv_relative">&nbsp;</span></td>
		</tr>
		<tr>
			<td>BV:</td>
			<td><span id="bv_raw">&nbsp;</span></td>
			<td><span id="bv_relative">&nbsp;</span></td>
		</tr>
		<tr>
			<td>PBV:</td>
			<td><span id="pbv_raw">&nbsp;</span></td>
			<td><span id="pbv_relative">&nbsp;</span></td>
		</tr>
		<tr>
			<td>LV:</td>
			<td><span id="lv_raw">&nbsp;</span></td>
			<td><span id="lv_relative">&nbsp;</span></td>
		</tr>
		<tr>
			<td>MMP:</td>
			<td><span id="mmp_raw">&nbsp;</span></td>
			<td><span id="mmp_relative">&nbsp;</span></td>
		</tr>
		<tr>
			<td>Parallel:</td>
			<td><span id="parallel_raw">&nbsp;</span></td>
			<td><span id="parallel_relative">&nbsp;</span></td>
		</tr>
	</tbody>
</table>
&nbsp;

<div>* Scale 0 - 10
<ul>
	<li>0: no priority</li>
	<li>5: average priority</li>
	<li>10: maximum priority</li>
</ul>
</div>

<div>** The "ideal system" would be one that perfectly matches all criteria and priorities. Such an ideal electoral system does not exist for most scenarios and available systems only come close to a varying degree.</div>
<script>
var ballot = document.getElementById("slider_ballot");
ballot.oninput = function () {
  document.getElementById("display_ballot").innerHTML = this.value;
};

var describe = document.getElementById("slider_describe");
describe.oninput = function () {
  document.getElementById("display_describe").innerHTML = this.value;
};

var geo = document.getElementById("slider_geo");
geo.oninput = function () {
  document.getElementById("display_geo").innerHTML = this.value;
};

var ind = document.getElementById("slider_ind");
ind.oninput = function () {
  document.getElementById("display_ind").innerHTML = this.value;
};

var gov = document.getElementById("slider_gov");
gov.oninput = function () {
  document.getElementById("display_gov").innerHTML = this.value;
};

var boundary = document.getElementById("slider_boundary");
boundary.oninput = function () {
  document.getElementById("display_boundary").innerHTML = this.value;
};

var strategic = document.getElementById("slider_strategic");
strategic.oninput = function () {
  document.getElementById("display_strategic").innerHTML = this.value;
};

var waste = document.getElementById("slider_waste");
waste.oninput = function () {
  document.getElementById("display_waste").innerHTML = this.value;
};

var women = document.getElementById("slider_women");
women.oninput = function () {
  document.getElementById("display_women").innerHTML = this.value;
};

var explain = document.getElementById("slider_explain");
explain.oninput = function () {
  document.getElementById("display_explain").innerHTML = this.value;
};

var easy = document.getElementById("slider_easy");
easy.oninput = function () {
  document.getElementById("display_easy").innerHTML = this.value;
};

var turnout = document.getElementById("slider_turnout");
turnout.oninput = function () {
  document.getElementById("display_turnout").innerHTML = this.value;
};

var link = document.getElementById("slider_link");
link.oninput = function () {
  document.getElementById("display_link").innerHTML = this.value;
};

var pork = document.getElementById("slider_pork");
pork.oninput = function () {
  document.getElementById("display_pork").innerHTML = this.value;
};

var oppose = document.getElementById("slider_oppose");
oppose.oninput = function () {
  document.getElementById("display_oppose").innerHTML = this.value;
};

var extreme = document.getElementById("slider_extreme");
extreme.oninput = function () {
  document.getElementById("display_extreme").innerHTML = this.value;
};

var output = document.getElementById("demo");
var button = document.getElementById("calculate");
var weights = [
  [10, 8, 4, 3, 5, 6, 8, 4, 10, 5, 4, 4],
  [9, 7, 4, 3, 5, 7, 1, 1, 5, 1, 7, 6],
  [4, 4, 10, 10, 10, 5, 6, 6, 4, 5, 8, 8],
  [3, 8, 10, 9, 8, 8, 7, 7, 1, 7, 6, 7],
  [5, 5, 10, 8, 6, 5, 6, 6, 8, 6, 5, 5],
  [10, 10, 1, 1, 1, 10, 10, 10, 10, 10, 5, 5],
  [9, 8, 5, 3, 2, 5, 2, 2, 9, 2, 5, 7],
  [10, 10, 2, 4, 6, 9, 1, 3, 1, 2, 9, 8],
  [10, 8, 1, 1, 4, 4, 1, 1, 5, 4, 6, 6],
  [6, 5, 10, 8, 3, 2, 8, 6, 8, 7, 2, 3],
  [9, 7, 9, 5, 4, 4, 9, 9, 9, 9, 6, 7],
  [8, 8, 6, 5, 7, 8, 4, 4, 4, 4, 7, 7],
  [4, 5, 8, 8, 8, 6, 5, 5, 1, 5, 7, 7],
  [10, 8, 1, 1, 5, 5, 5, 5, 7, 5, 6, 6],
  [9, 9, 4, 4, 5, 6, 3, 3, 6, 3, 6, 6],
  [2, 2, 10, 10, 10, 4, 6, 7, 9, 6, 5, 5],
];

button.onclick = function () {
  var preference_vector = math.matrix([
    ballot.value,
    describe.value,
    geo.value,
    ind.value,
    gov.value,
    boundary.value,
    strategic.value,
    waste.value,
    women.value,
    explain.value,
    easy.value,
    turnout.value,
    link.value,
    pork.value,
    oppose.value,
    extreme.value,
  ]);
  var res = math.multiply(
    math.transpose(math.matrix(weights)),
    preference_vector
  );

  const systems = [
    "prclosed",
    "propen",
    "fptp",
    "trs",
    "av",
    "stv",
    "sntv",
    "bv",
    "pbv",
    "lv",
    "mmp",
    "parallel",
  ];

  const maxes = weights.map(function (row) {
    return Math.max.apply(Math, row);
  });

  const unreachable = math.multiply(math.transpose(maxes), preference_vector);

  for (let i = 0; i < systems.length; i++) {
    document.getElementById(`${systems[i]}_raw`).innerHTML = res.get([i]);

    const fraction = res.get([i]) / unreachable || 0;
    const percentage = Number(fraction).toLocaleString("en", {
      style: "percent",
    });
    document.getElementById(`${systems[i]}_relative`).innerHTML = percentage;
  }
};
</script></div>
